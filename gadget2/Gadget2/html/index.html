<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>GADGET-2: Reference documentation for GADGET-2</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindexHL" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>Reference documentation for GADGET-2 </h1>
<p>
<dl compact><dt><b>Author:</b></dt><dd>Volker Springel <br>
 Max-Planck-Institute for Astrophysics <br>
 Karl-Schwarzschild-Str. 1 <br>
 85740 Garching <br>
 Germany <br>
 <a href="mailto:volker@mpa-garching.mpg.de">volker@mpa-garching.mpg.de</a> <br>
</dd></dl>
<br>
<h2><a class="anchor" name="prelim">
Getting started</a></h2>
GADGET-2 is a massively parallel code for hydrodynamical cosmological simulations. It is a flexible code that can be applied to a variety of different types of simulations, offering a number of sophisticated simulation algorithms.<p>
A full account of the numerical algorithms employed by the code is given in the accompanying code paper, and detailed instructions for usage of the code are given in the included code documentation.<p>
This html-document serves as a cross-referenced documentation of the source code itself - in fact, using the doxygen tool, the html-pages have been produced from comments inlined in the source code. Apart from the source-code documentation, a brief guide to code compilation is given below, and under <b>Related Pages (see link on top)</b> you can find an explanation of GADGET's parameterfile and a short guide to compile-time options of the code.<h2><a class="anchor" name="install">
Compilation</a></h2>
GADGET-2 needs the following non-standard libraries for compilation:<p>
<ul>
<li><b>MPI</b> - the Message Passing Interface (version 1.0 or higher). Many vendor supplied versions exist, in addition to excellent open source implementations, e.g. MPICH (<a href="http://www-unix.mcs.anl.gov/mpi/mpich/">http://www-unix.mcs.anl.gov/mpi/mpich/</a>) or LAM (<a href="http://www.lam-mpi.org/">http://www.lam-mpi.org/</a>).</li></ul>
<p>
<ul>
<li><b>GSL</b> - the GNU scientific library. This open-source package can be obtained at <a href="http://www.gnu.org/software/gsl">http://www.gnu.org/software/gsl</a> , for example. GADGET-2 needs this library for a few simple cosmological integrations at start-up, and for random number generation.</li></ul>
<p>
<ul>
<li><b>HDF5</b> - the <em>Hierarchical Data Format</em>. This library has been developed by NCSA and can be obtained at <a href="http://hdf.ncsa.uiuc.edu/HDF5">http://hdf.ncsa.uiuc.edu/HDF5</a> . GADGET-2 can be compiled without this library, but then the HDF5 format is not supported.</li></ul>
<p>
<ul>
<li><b>FFTW</b> - the <em>Fastest Fourier Transform in the West</em>. This open-source package can be obtained at <a href="http://www.fftw.org">http://www.fftw.org</a> . It is only needed for simulations that use the TreePM algorithm. Note that the MPI-capable version 2.x of FFTW is required, and that FFTW needs to be explicitly compiled with parallel support enabled. This can be achieved by passing the option <b>--enable-mpi</b> to the configure script. When at it, you might as well add <b>--enable-type-prefix</b> to obtain the libraries in both a single and double precision version. If this has not been done, you should set the option <em>NOTYPEPREFIX_FFTW</em> in GADGET's <a class="el" href="Gadget-Makefile.html">Makefile</a>.</li></ul>
<p>
Note that if any of the above libraries is not installed in standard locations on your system, the <a class="el" href="Gadget-Makefile.html">Makefile</a> provided with the code may need slight adjustments. Similarly, compiler options, particularly with respect to optimisations, may need adjustment to the C-compiler that is used. Finally, the <a class="el" href="Gadget-Makefile.html">Makefile</a> contains a number of compile-time options that need to be set appropriately for the type of simulation that is simulated.<p>
The provided makefile is compatible with GNU-make, i.e. typing <b>make</b> or <b>gmake</b> should then build the executable <b>Gadget2</b>. If your site does not have GNU-make, get it, or write your own makefile.<h2><a class="anchor" name="howtorun">
Running the code</a></h2>
In order to start the simulation code, a <a class="el" href="parameterfile.html">parameterfile</a> needs to be specified. An additional optional numerical parameter can be used to signal whether a continuation from a set of restart files, or from a snapshot file, is desired. A typical command to start the code looks like the following: <br>
 <br>
<p>
<b> mpirun -np 8 ./Gadget2 &lt;parameterfile&gt; [restartflag]</b> <br>
 <br>
<p>
This would start the code using 8 processors, assuming that the parallel environment uses the <em>mpirun</em> command to start MPI applications. Depending on the operating system, other commands may be required for this task, e.g. <em>poe</em> on IBM/AIX machines. Note that the code can in principle be started using an arbitrary number of processors, but the communication algorithms will be most efficient for powers of 2. It is also possible to use a single processor only, in which case the code behaves like a serial code, except that GADGET-2 will still go through some of the overhead induced by the parallelization algorithms, so the code will not quite reach the same performance as an optimum serial solution in this case.<p>
The optional <em>restartflag</em> can have the values 0, 1, or 2, only. "1" signals a continuation from restart files, while "2" can be used to restart from a snapshot file produced by the code. If omitted (equivalent to the default of "0"), the code starts from initial conditions. <hr size="1"><address style="align: right;"><small>Generated on Sat Apr 22 15:29:40 2006 for GADGET-2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
