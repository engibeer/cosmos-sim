<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>GADGET-2: ngb.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>ngb.c File Reference</h1>neighbour search by means of the tree <a href="#_details">More...</a>
<p>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;math.h&gt;</code><br>
<code>#include &lt;time.h&gt;</code><br>
<code>#include &lt;mpi.h&gt;</code><br>
<code>#include "<a class="el" href="allvars_8h-source.html">allvars.h</a>"</code><br>
<code>#include "<a class="el" href="proto_8h-source.html">proto.h</a>"</code><br>

<p>
<a href="ngb_8c-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a0">boxSize_X</a>&nbsp;&nbsp;&nbsp;boxSize</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a1">boxHalf_X</a>&nbsp;&nbsp;&nbsp;boxHalf</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a2">boxSize_Y</a>&nbsp;&nbsp;&nbsp;boxSize</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a3">boxHalf_Y</a>&nbsp;&nbsp;&nbsp;boxHalf</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a4">boxSize_Z</a>&nbsp;&nbsp;&nbsp;boxSize</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a5">boxHalf_Z</a>&nbsp;&nbsp;&nbsp;boxHalf</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a6">NGB_PERIODIC_X</a>(x)&nbsp;&nbsp;&nbsp;(xtmp=(x),(xtmp&gt;boxHalf_X)?(xtmp-boxSize_X):((xtmp&lt;-boxHalf_X)?(xtmp+boxSize_X):xtmp))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a7">NGB_PERIODIC_Y</a>(x)&nbsp;&nbsp;&nbsp;(xtmp=(x),(xtmp&gt;boxHalf_Y)?(xtmp-boxSize_Y):((xtmp&lt;-boxHalf_Y)?(xtmp+boxSize_Y):xtmp))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a8">NGB_PERIODIC_Z</a>(x)&nbsp;&nbsp;&nbsp;(xtmp=(x),(xtmp&gt;boxHalf_Z)?(xtmp-boxSize_Z):((xtmp&lt;-boxHalf_Z)?(xtmp+boxSize_Z):xtmp))</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a11">ngb_treefind_pairs</a> (float searchcenter[3], float hsml, int *startnode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a12">ngb_treefind_variable</a> (float searchcenter[3], float hsml, int *startnode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a13">ngb_clear_buf</a> (float searchcenter[3], float hsml, int numngb)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a14">ngb_treeallocate</a> (int npart)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a15">ngb_treefree</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ngb_8c.html#a16">ngb_treebuild</a> (void)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
neighbour search by means of the tree 
<p>
This file contains routines for neighbour finding. We use the gravity-tree and a range-searching technique to find neighbours.
<p>
Definition in file <a class="el" href="ngb_8c-source.html">ngb.c</a>.<hr><h2>Define Documentation</h2>
<a class="anchor" name="a1" doxytag="ngb.c::boxHalf_X"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define boxHalf_X&nbsp;&nbsp;&nbsp;boxHalf          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00026">26</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="ngb.c::boxHalf_Y"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define boxHalf_Y&nbsp;&nbsp;&nbsp;boxHalf          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00032">32</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="ngb.c::boxHalf_Z"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define boxHalf_Z&nbsp;&nbsp;&nbsp;boxHalf          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00038">38</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a0" doxytag="ngb.c::boxSize_X"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define boxSize_X&nbsp;&nbsp;&nbsp;boxSize          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00025">25</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a2" doxytag="ngb.c::boxSize_Y"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define boxSize_Y&nbsp;&nbsp;&nbsp;boxSize          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00031">31</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="ngb.c::boxSize_Z"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define boxSize_Z&nbsp;&nbsp;&nbsp;boxSize          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00037">37</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="ngb.c::NGB_PERIODIC_X"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define NGB_PERIODIC_X          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(xtmp=(x),(xtmp&gt;boxHalf_X)?(xtmp-boxSize_X):((xtmp&lt;-boxHalf_X)?(xtmp+boxSize_X):xtmp))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
these macros maps a coordinate difference to the nearest periodic image 
<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00047">47</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.
<p>
Referenced by <a class="el" href="ngb_8c-source.html#l00320">ngb_clear_buf()</a>, <a class="el" href="ngb_8c-source.html#l00064">ngb_treefind_pairs()</a>, and <a class="el" href="ngb_8c-source.html#l00194">ngb_treefind_variable()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a7" doxytag="ngb.c::NGB_PERIODIC_Y"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define NGB_PERIODIC_Y          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(xtmp=(x),(xtmp&gt;boxHalf_Y)?(xtmp-boxSize_Y):((xtmp&lt;-boxHalf_Y)?(xtmp+boxSize_Y):xtmp))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00048">48</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.
<p>
Referenced by <a class="el" href="ngb_8c-source.html#l00320">ngb_clear_buf()</a>, <a class="el" href="ngb_8c-source.html#l00064">ngb_treefind_pairs()</a>, and <a class="el" href="ngb_8c-source.html#l00194">ngb_treefind_variable()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a8" doxytag="ngb.c::NGB_PERIODIC_Z"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">#define NGB_PERIODIC_Z          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">x&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;(xtmp=(x),(xtmp&gt;boxHalf_Z)?(xtmp-boxSize_Z):((xtmp&lt;-boxHalf_Z)?(xtmp+boxSize_Z):xtmp))</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00049">49</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.
<p>
Referenced by <a class="el" href="ngb_8c-source.html#l00320">ngb_clear_buf()</a>, <a class="el" href="ngb_8c-source.html#l00064">ngb_treefind_pairs()</a>, and <a class="el" href="ngb_8c-source.html#l00194">ngb_treefind_variable()</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a13" doxytag="ngb.c::ngb_clear_buf"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ngb_clear_buf           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float&nbsp;</td>
          <td class="mdname" nowrap> <em>searchcenter</em>[3], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>float&nbsp;</td>
          <td class="mdname" nowrap> <em>hsml</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>numngb</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The buffer for the neighbour list has a finite length MAX_NGB. For a large search region, this buffer can get full, in which case this routine can be called to eliminate some of the superfluous particles in the "corners" of the search box - only the ones in the inscribed sphere need to be kept. 
<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00320">320</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.
<p>
References <a class="el" href="allvars_8h-source.html#l00103">FLOAT</a>, <a class="el" href="ngb_8c-source.html#l00047">NGB_PERIODIC_X</a>, <a class="el" href="ngb_8c-source.html#l00048">NGB_PERIODIC_Y</a>, <a class="el" href="ngb_8c-source.html#l00049">NGB_PERIODIC_Z</a>, <a class="el" href="allvars_8c-source.html#l00032">Ngblist</a>, <a class="el" href="allvars_8c-source.html#l00119">P</a>, and <a class="el" href="allvars_8h-source.html#l00494">particle_data::Pos</a>.
<p>
Referenced by <a class="el" href="ngb_8c-source.html#l00194">ngb_treefind_variable()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a14" doxytag="ngb.c::ngb_treeallocate"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ngb_treeallocate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>npart</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Allocates memory for the neighbour list buffer. 
<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00358">358</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.
<p>
References <a class="el" href="allvars_8c-source.html#l00111">All</a>, <a class="el" href="density_8c-source.html#l00028">boxHalf_X</a>, <a class="el" href="density_8c-source.html#l00034">boxHalf_Y</a>, <a class="el" href="density_8c-source.html#l00040">boxHalf_Z</a>, <a class="el" href="allvars_8h-source.html#l00259">global_data_all_processes::BoxSize</a>, <a class="el" href="density_8c-source.html#l00027">boxSize_X</a>, <a class="el" href="density_8c-source.html#l00033">boxSize_Y</a>, <a class="el" href="density_8c-source.html#l00039">boxSize_Z</a>, <a class="el" href="endrun_8c-source.html#l00025">endrun()</a>, <a class="el" href="allvars_8c-source.html#l00032">Ngblist</a>, and <a class="el" href="allvars_8c-source.html#l00011">ThisTask</a>.
<p>
Referenced by <a class="el" href="init_8c-source.html#l00020">init()</a>, and <a class="el" href="restart_8c-source.html#l00035">restart()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a16" doxytag="ngb.c::ngb_treebuild"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ngb_treebuild           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function constructs the neighbour tree. To this end, we actually need to construct the gravitational tree, because we use it now for the neighbour search. 
<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00403">403</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.
<p>
References <a class="el" href="forcetree_8c-source.html#l00061">force_treebuild()</a>, <a class="el" href="allvars_8c-source.html#l00016">N_gas</a>, and <a class="el" href="allvars_8c-source.html#l00011">ThisTask</a>.
<p>
Referenced by <a class="el" href="init_8c-source.html#l00020">init()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a11" doxytag="ngb.c::ngb_treefind_pairs"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ngb_treefind_pairs           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float&nbsp;</td>
          <td class="mdname" nowrap> <em>searchcenter</em>[3], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>float&nbsp;</td>
          <td class="mdname" nowrap> <em>hsml</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>startnode</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This routine finds all neighbours `j' that can interact with the particle `i' in the communication buffer.<p>
Note that an interaction can take place if <img class="formulaInl" alt="$ r_{ij} < h_i $" src="form_9.png"> OR if <img class="formulaInl" alt="$ r_{ij} < h_j $" src="form_10.png">.<p>
In the range-search this is taken into account, i.e. it is guaranteed that all particles are found that fulfil this condition, including the (more difficult) second part of it. For this purpose, each node knows the maximum h occuring among the particles it represents.<p>
&lt; defines maximum length of neighbour list 
<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00064">64</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.
<p>
References <a class="el" href="allvars_8c-source.html#l00111">All</a>, <a class="el" href="allvars_8c-source.html#l00058">DomainTask</a>, <a class="el" href="allvars_8c-source.html#l00030">Exportflag</a>, <a class="el" href="allvars_8c-source.html#l00151">Extnodes</a>, <a class="el" href="allvars_8h-source.html#l00103">FLOAT</a>, <a class="el" href="allvars_8h-source.html#l00599">extNODE::hmax</a>, <a class="el" href="allvars_8h-source.html#l00537">sph_particle_data::Hsml</a>, <a class="el" href="allvars_8h-source.html#l00256">global_data_all_processes::MaxPart</a>, <a class="el" href="allvars_8c-source.html#l00147">Nextnode</a>, <a class="el" href="ngb_8c-source.html#l00047">NGB_PERIODIC_X</a>, <a class="el" href="ngb_8c-source.html#l00048">NGB_PERIODIC_Y</a>, <a class="el" href="ngb_8c-source.html#l00049">NGB_PERIODIC_Z</a>, <a class="el" href="allvars_8c-source.html#l00032">Ngblist</a>, <a class="el" href="allvars_8c-source.html#l00141">Nodes</a>, <a class="el" href="allvars_8c-source.html#l00119">P</a>, <a class="el" href="allvars_8h-source.html#l00494">particle_data::Pos</a>, <a class="el" href="allvars_8c-source.html#l00127">SphP</a>, and <a class="el" href="allvars_8h-source.html#l00512">particle_data::Type</a>.
<p>
Referenced by <a class="el" href="hydra_8c-source.html#l00353">hydro_evaluate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a12" doxytag="ngb.c::ngb_treefind_variable"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int ngb_treefind_variable           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">float&nbsp;</td>
          <td class="mdname" nowrap> <em>searchcenter</em>[3], </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>float&nbsp;</td>
          <td class="mdname" nowrap> <em>hsml</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int *&nbsp;</td>
          <td class="mdname" nowrap> <em>startnode</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function returns neighbours with distance &lt;= hsml and returns them in Ngblist. Actually, particles in a box of half side length hsml are returned, i.e. the reduction to a sphere still needs to be done in the calling routine.<p>
&lt; defines maximum length of neighbour list <p>
&lt; defines maximum length of neighbour list 
<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00194">194</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.
<p>
References <a class="el" href="allvars_8c-source.html#l00111">All</a>, <a class="el" href="structNODE.html#o9">NODE::d</a>, <a class="el" href="allvars_8c-source.html#l00058">DomainTask</a>, <a class="el" href="allvars_8c-source.html#l00030">Exportflag</a>, <a class="el" href="allvars_8h-source.html#l00103">FLOAT</a>, <a class="el" href="allvars_8h-source.html#l00256">global_data_all_processes::MaxPart</a>, <a class="el" href="allvars_8c-source.html#l00147">Nextnode</a>, <a class="el" href="allvars_8h-source.html#l00581">NODE::nextnode</a>, <a class="el" href="ngb_8c-source.html#l00320">ngb_clear_buf()</a>, <a class="el" href="ngb_8c-source.html#l00047">NGB_PERIODIC_X</a>, <a class="el" href="ngb_8c-source.html#l00048">NGB_PERIODIC_Y</a>, <a class="el" href="ngb_8c-source.html#l00049">NGB_PERIODIC_Z</a>, <a class="el" href="allvars_8c-source.html#l00032">Ngblist</a>, <a class="el" href="allvars_8c-source.html#l00141">Nodes</a>, <a class="el" href="allvars_8c-source.html#l00119">P</a>, <a class="el" href="allvars_8h-source.html#l00494">particle_data::Pos</a>, <a class="el" href="allvars_8h-source.html#l00580">NODE::sibling</a>, <a class="el" href="allvars_8c-source.html#l00011">ThisTask</a>, and <a class="el" href="allvars_8h-source.html#l00512">particle_data::Type</a>.
<p>
Referenced by <a class="el" href="density_8c-source.html#l00467">density_evaluate()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a15" doxytag="ngb.c::ngb_treefree"></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void ngb_treefree           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
free memory allocated for neighbour list buffer. 
<p>
Definition at line <a class="el" href="ngb_8c-source.html#l00394">394</a> of file <a class="el" href="ngb_8c-source.html">ngb.c</a>.
<p>
References <a class="el" href="allvars_8c-source.html#l00032">Ngblist</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Sat Apr 22 15:29:42 2006 for GADGET-2 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.3.9.1 </small></address>
</body>
</html>
